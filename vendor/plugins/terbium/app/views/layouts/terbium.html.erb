<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title><%= [@title, 'Terbium'].compact.join(' - ') %></title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <%= stylesheet_link_tag 'terbium_reset' %>
    <%= stylesheet_link_tag 'terbium' %>
    <%= stylesheet_link_tag 'terbium_paginator' %>
    <%= yield :stylesheet %>
    <%= javascript_include_tag 'prototype', 'effects', 'dragdrop', 'controls', 'lowpro' %>
    <%= javascript_include_tag '/codemirror/js/codemirror' %>
    <%= javascript_include_tag 'terbium' %>
    <%= javascript_include_tag 'terbium_popup' %>
    <%= javascript_include_tag 'terbium_paginator' %>
    <%= yield :javascript %>
  </head>
  <body>
    <div class="header">
      <div class="logo"><a href="/admin">Terbium</a></div>
      <ul class="navigation">
        <% admined_controllers do |title, path| %>
          <li<%= raw(current_path(:translation => false).include?(path.gsub(/_(#{I18n.available_locales.join('|')})\/?$/, '')) ? ' class="selected"' : '') %>><%= link_to title, path %></li>
        <% end %>
      </ul>
      <div class="logout">
      </div>
    </div>
    <div class="additional_navigation" id="additional_navigation">
      <%= yield :additional_navigation %>
      <% if translates? %>
        <ul class="buttons right_buttons">
          <% I18n.available_locales.each do |locale| %>
            <% if translation == locale %>
              <li><span><%= locale %></span></li>
            <% else %>
              <li><%= link_to locale, current_path(:translation => locale) %></li>
            <% end %>
          <% end %>
        </ul>
      <% end %>
    </div>
    <div class="body">
      <% if record && translates? %>
        <%= render 'terbium/terbium_translation' %>
      <% end %>
      <div class="content">
        <%= yield %>
      </div>
    </div>
    <% if flash[:notice] %>
      <div class="notice" id="notice"><%= flash[:notice] %></div>
    <% end %>
  </body>
</html>
