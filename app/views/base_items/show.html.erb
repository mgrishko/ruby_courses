<%= javascript_include_tag 'jquery/jquery.formLoad.js', 'jquery/jquery.form.js', 'article_show' %>

<% pi = PackagingItem.new %>

<p>
  <b>Record code:</b>
  <%= h @base_item.gtin %>
</p>
<p>
  <b>Name:</b>
  <%= h @base_item.name %>
</p>
<p>
  <b>Internal item id:</b>
  <%= h @base_item.internal_item_id %>
</p>
<p>
  <b>Item name long ru:</b>
  <%= h @base_item.item_name_long_ru %>
</p>
<p>
  <b>Item name long en:</b>
  <%= h @base_item.item_name_long_en %>
</p>
<p>
  <b>Despatch unit:</b>
  <%= h @base_item.despatch_unit %>
</p>
<p>
  <b>Invoice unit:</b>
  <%= h @base_item.invoice_unit %>
</p>
<p>
  <b>Order unit:</b>
  <%= h @base_item.order_unit %>
</p>
<p>
  <b>Consumer unit:</b>
  <%= h @base_item.consumer_unit %>
</p>
<p>
  <b>Manufacturer name:</b>
  <%= h @base_item.manufacturer_name %>
</p>
<p>
  <b>Manufacturer gln:</b>
  <%= h @base_item.manufacturer_gln %>
</p>
<p>
  <b>Content:</b>
  <%= h @base_item.content %>
  <%= @base_item.content_uoms.detect { |u| @base_item.content_uom == u[1] }[0] %>
</p>
<p>
  <b>Gross weight:</b>
  <%= h @base_item.gross_weight %>
</p>
<p>
  <b>Vat:</b>
  <%= @base_item.vats.detect { |u| @base_item.vat == u[1] }[0] %>
</p>
<p>
  <b>Plu description:</b>
  <%= h @base_item.plu_description %>
</p>
<p>
  <b>Gpc:</b>
  <%= h @base_item.gpc %>
</p>
<p>
  <b>Country of origin:</b>
  <%= h @base_item.country_of_origin.description %>
</p>

<p>
  <b>Minimum durability from arrival:</b>
  <%= h @base_item.minimum_durability_from_arrival %>
</p>

<p>
  <b>Packaging type:</b>
  <%= @base_item.packaging_types.detect { |u| @base_item.packaging_type == u[1] }[0] %>
</p>
<p>
  <b>Height:</b>
  <%= h @base_item.height %>
</p>
<p>
  <b>Depth:</b>
  <%= h @base_item.depth %>
</p>
<p>
  <b>Width</b>
  <%= h @base_item.width %>
</p>
<p>
  <b>Status:</b>
  <%=@base_item.status %>
</p>

<div style="border:1px solid black" id="pi_container">
  <div id="pi_new">
    <ul><li><span class="item"><%= link_to_new_pi(@base_item, pi) %></span></li></ul>
  </div>
  <%= render :partial => '/pi_list', :locals => { :packaging_items => @base_item.packaging_items } %>
</div>
<div id="editform" style="border:3px solid blue;background:white;display:none;width:200px;overflow:hidden;">
  edit element
  <% form_tag do %>
    <%= hidden_field :packaging_item, :id %>
    <p>
      <%= label :packaging_item, :gtin %><br />
      <%= text_field :packaging_item, :gtin, :id => 'edit_packaging_item_gtin' %>
    </p>
    <p>
      <%= label :packaging_item, :name %><br />
      <%= text_field :packaging_item, :name, :id => 'edit_packaging_item_name' %>
    </p>

<p>
number of next lower item<br />
<%=text_field :packaging_item, :number_of_next_lower_item, :id => 'edit_packaging_item_number_of_next_lower_item' %>
</p>

<p>
number of bi items<br />
<%=text_field :packaging_item, :number_of_bi_items, :id => 'edit_packaging_item_number_of_bi_items' %>
</p>

<p>
despatch unit<br />
<%=text_field :packaging_item, :despatch_unit, :id => 'edit_packaging_item_despatch_unit' %>
</p>

<p>
invoice unit<br />
<%=text_field :packaging_item, :invoice_unit, :id => 'edit_packaging_item_invoice_unit' %>
</p>

<p>
order unit<br />
<%=text_field :packaging_item, :order_unit, :id => 'edit_packaging_item_order_unit' %>
</p>

<p>
consumer unit<br />
<%=text_field :packaging_item, :consumer_unit, :id => 'edit_packaging_item_consumer_unit' %>
</p>

<p>
gross weight<br />
<%=text_field :packaging_item, :gross_weight, :id => 'edit_packaging_item_gross_weight' %>
</p>

<p>
packaging type<br />
<%=text_field :packaging_item, :packaging_type, :id => 'edit_packaging_item_packaging_type' %>
</p>

<p>
height<br />
<%=text_field :packaging_item, :height, :id => 'edit_packaging_item_height' %>
</p>

<p>
depth<br />
<%=text_field :packaging_item, :depth, :id => 'edit_packaging_item_depth' %>
</p>

<p>
width<br />
<%=text_field :packaging_item, :width, :id => 'edit_packaging_item_width' %>
</p>

    <p>
    <%= submit_tag 'Save' %>
    <%= button_to_function "Cancel", "$('#editform').hide()" %>
    </p>
  <% end %>
</div>

<div id="viewform" style="border:3px solid blue;background:white;display:none;width:200px;overflow:hidden;">
  Gtin <div id="packaging_item_gtin"></div><br />
  Name <div id="packaging_item_item_name_long_ru"></div><br />
      <%= link_to_function "close", "$('#viewform').hide()" %>
</div>

<div id="newform" style="border:3px solid blue;background:white;display:none;width:200px;overflow:hidden;">
  New element
  <% form_tag do %>
    <%= hidden_field :packaging_item, :id %>
    <p>
      <%= label :packaging_item, :gtin %><br />
      <%= text_field :packaging_item, :gtin, :id => 'new_packaging_item_gtin' %>
    </p>
    <p>
      <%= label :packaging_item, :name %><br />
      <%= text_field :packaging_item, :name, :id => 'new_packaging_item_name' %>
    </p>
<p>
number of next lower item<br />
<%=text_field :packaging_item, :number_of_next_lower_item, :id => 'new_packaging_item_number_of_next_lower_item' %>
</p>

<p>
number of bi items<br />
<%=text_field :packaging_item, :number_of_bi_items, :id => 'new_packaging_item_number_of_bi_items' %>
</p>

<p>
despatch unit<br />
<%=text_field :packaging_item, :despatch_unit, :id => 'new_packaging_item_despatch_unit' %>
</p>

<p>
invoice unit<br />
<%=text_field :packaging_item, :invoice_unit, :id => 'new_packaging_item_invoice_unit' %>
</p>

<p>
order unit<br />
<%=text_field :packaging_item, :order_unit, :id => 'new_packaging_item_order_unit' %>
</p>

<p>
consumer unit<br />
<%=text_field :packaging_item, :consumer_unit, :id => 'new_packaging_item_consumer_unit' %>
</p>

<p>
gross weight<br />
<%=text_field :packaging_item, :gross_weight, :id => 'new_packaging_item_gross_weight' %>
</p>

<p>
packaging type<br />
<%=text_field :packaging_item, :packaging_type, :id => 'new_packaging_item_packaging_type' %>
</p>

<p>
height<br />
<%=text_field :packaging_item, :height, :id => 'new_packaging_item_height' %>
</p>

<p>
depth<br />
<%=text_field :packaging_item, :depth, :id => 'new_packaging_item_depth' %>
</p>

<p>
width<br />
<%=text_field :packaging_item, :width, :id => 'new_packaging_item_width' %>
</p>
    <p>
      <%= submit_tag 'Save' %>
      <%= button_to_function "Cancel", "$('#newform').hide()" %>
    </p>
  <% end %>
</div>

<%= link_to 'Edit', edit_base_item_path(@base_item) %> |
<% if false %>
<%= link_to 'Создать PackagingItem', new_base_item_packaging_item_path(@base_item) %> |
<%= link_to_item_with_count 'Посмотреть все PackagingItems', base_item_packaging_items_path(@base_item), @base_item.packaging_items.count %>
<% end %>
<%= link_to 'Back', base_items_path %>
