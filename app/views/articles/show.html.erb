<%= javascript_include_tag 'jquery/jquery.formLoad.js', 'jquery/jquery.form.js', 'article_show' %>

<% pi = PackagingItem.new %>
<p>
  <b>Record code:</b>
  <%=h @article.gtin %>
</p>

<p>
  <b>Name:</b>
  <%=h @article.name %>
</p>

<p>
  <b>Status:</b>
  <%=@article.print_status %>
</p>
<div style="border:1px solid black" id="pi_container">
  <div id="pi_new">
    <ul><li><span class="item"><%= link_to_new_pi(@article, pi) %></span></li></ul>
  </div>
  <%= render :partial => '/pi_list', :locals => { :packaging_items => @article.packaging_items } %>
</div>
<div id="editform" style="border:3px solid blue;background:white;display:none;width:200px;overflow:hidden;">
  edit element
  <% form_tag do %>
    <%= hidden_field :packaging_item, :id %>
    <p>
      <%= label :packaging_item, :gtin %><br />
      <%= text_field :packaging_item, :gtin, :id => 'edit_packaging_item_gtin' %>
    </p>
    <p>
      <%= label :packaging_item, :name %><br />
      <%= text_field :packaging_item, :name, :id => 'edit_packaging_item_name' %>
    </p>

<p>
number of next lower item<br />
<%=text_field :packaging_item, :number_of_next_lower_item, :id => 'edit_packaging_item_number_of_next_lower_item' %>
</p>

<p>
number of bi items<br />
<%=text_field :packaging_item, :number_of_bi_items, :id => 'edit_packaging_item_number_of_bi_items' %>
</p>

<p>
despatch unit<br />
<%=text_field :packaging_item, :despatch_unit, :id => 'edit_packaging_item_despatch_unit' %>
</p>

<p>
invoice unit<br />
<%=text_field :packaging_item, :invoice_unit, :id => 'edit_packaging_item_invoice_unit' %>
</p>

<p>
order unit<br />
<%=text_field :packaging_item, :order_unit, :id => 'edit_packaging_item_order_unit' %>
</p>

<p>
consumer unit<br />
<%=text_field :packaging_item, :consumer_unit, :id => 'edit_packaging_item_consumer_unit' %>
</p>

<p>
gross weight<br />
<%=text_field :packaging_item, :gross_weight, :id => 'edit_packaging_item_gross_weight' %>
</p>

<p>
packaging type<br />
<%=text_field :packaging_item, :packaging_type, :id => 'edit_packaging_item_packaging_type' %>
</p>

<p>
height<br />
<%=text_field :packaging_item, :height, :id => 'edit_packaging_item_height' %>
</p>

<p>
depth<br />
<%=text_field :packaging_item, :depth, :id => 'edit_packaging_item_depth' %>
</p>

<p>
width<br />
<%=text_field :packaging_item, :width, :id => 'edit_packaging_item_width' %>
</p>

    <p>
    <%= submit_tag 'Save' %>
    <%= button_to_function "Cancel", "$('#editform').hide()" %>
    </p>
  <% end %>
</div>

<div id="viewform" style="border:3px solid blue;background:white;display:none;width:200px;overflow:hidden;">
  Gtin <div id="packaging_item_gtin"></div><br />
  Name <div id="packaging_item_item_name_long_ru"></div><br />
      <%= link_to_function "close", "$('#viewform').hide()" %>
</div>

<div id="newform" style="border:3px solid blue;background:white;display:none;width:200px;overflow:hidden;">
  New element
  <% form_tag do %>
    <%= hidden_field :packaging_item, :id %>
    <p>
      <%= label :packaging_item, :gtin %><br />
      <%= text_field :packaging_item, :gtin, :id => 'new_packaging_item_gtin' %>
    </p>
    <p>
      <%= label :packaging_item, :name %><br />
      <%= text_field :packaging_item, :name, :id => 'new_packaging_item_name' %>
    </p>
<p>
number of next lower item<br />
<%=text_field :packaging_item, :number_of_next_lower_item, :id => 'new_packaging_item_number_of_next_lower_item' %>
</p>

<p>
number of bi items<br />
<%=text_field :packaging_item, :number_of_bi_items, :id => 'new_packaging_item_number_of_bi_items' %>
</p>

<p>
despatch unit<br />
<%=text_field :packaging_item, :despatch_unit, :id => 'new_packaging_item_despatch_unit' %>
</p>

<p>
invoice unit<br />
<%=text_field :packaging_item, :invoice_unit, :id => 'new_packaging_item_invoice_unit' %>
</p>

<p>
order unit<br />
<%=text_field :packaging_item, :order_unit, :id => 'new_packaging_item_order_unit' %>
</p>

<p>
consumer unit<br />
<%=text_field :packaging_item, :consumer_unit, :id => 'new_packaging_item_consumer_unit' %>
</p>

<p>
gross weight<br />
<%=text_field :packaging_item, :gross_weight, :id => 'new_packaging_item_gross_weight' %>
</p>

<p>
packaging type<br />
<%=text_field :packaging_item, :packaging_type, :id => 'new_packaging_item_packaging_type' %>
</p>

<p>
height<br />
<%=text_field :packaging_item, :height, :id => 'new_packaging_item_height' %>
</p>

<p>
depth<br />
<%=text_field :packaging_item, :depth, :id => 'new_packaging_item_depth' %>
</p>

<p>
width<br />
<%=text_field :packaging_item, :width, :id => 'new_packaging_item_width' %>
</p>
    <p>
      <%= submit_tag 'Save' %>
      <%= button_to_function "Cancel", "$('#newform').hide()" %>
    </p>
  <% end %>
</div>

<%= link_to 'Edit', edit_article_path(@article) %> |
<% if false %>
<%= link_to 'Создать PackagingItem', new_article_packaging_item_path(@article) %> |
<%= link_to_item_with_count 'Посмотреть все PackagingItems', article_packaging_items_path(@article), @article.packaging_items.count %>
<% end %>
<%= link_to 'Back', articles_path %>
